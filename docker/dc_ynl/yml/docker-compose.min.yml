version: "2"
services:

#Transmission-VPN - Bittorrent Downloader with VPN
#Check here for a whole list of settings that can be passed as environmental variables: https://github.com/haugene/docker-transmission-openvpn/blob/master/transmission/settings.tmpl
  transmission-vpn:
    container_name: transmission-vpn
    image: haugene/transmission-openvpn
    cap_add:
      - NET_ADMIN
    devices:
      - /dev/net/tun
    restart: always
    ports:
    - "9091:9091"
    dns:
      - 8.8.8.8
      - 8.8.4.4
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - /home/rzn/docker/transmission-vpn:/data
      - /home/rzn/docker/certs:/certs
      - /home/rzn/ttwatch:/data/watch
      - /media/stach/down/completed:/data/completed
      - /media/stach2/tmp/.laddar:/data/incomplete
    environment:
      - OPENVPN_PROVIDER=USENETSERVER
      - OPENVPN_USERNAME=rznth4r
      - OPENVPN_PASSWORD=ra75secharas
      - OPENVPN_CONFIG="sel-a02" #optional specify a specific server
      - OPENVPN_OPTS=--inactive 3600 --ping 10 --ping-exit 60
      - LOCAL_NETWORK=10.0.0.0/24 #change to your home network
      - PUID=1000
      - PGID=1000
      - TZ=Europe/Stockholm
      - TRANSMISSION_RPC_AUTHENTICATION_REQUIRED=true
      - TRANSMISSION_RPC_HOST_WHITELIST="*"
      - TRANSMISSION_RPC_PASSWORD=charas
      - TRANSMISSION_RPC_USERNAME=rZn
      - TRANSMISSION_UMASK=002

  qbittorrent:
    image: "linuxserver/qbittorrent"
    container_name: "qbittorrent"
    volumes:
      - /home/rzn/docker/qbittorrent:/config
      - /media/stach/down/completed:/downloads
      - /home/rzn/docker/certs:/certs
    ports:
      - "2222:2222"
      - "6881:6881"
      - "6881:6881/udp"
    restart: always
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/Stockholm
      - UMASK_SET=002
      - WEBUI_PORT=2222

#NZBGet - Usenet (NZB) Downloader
  nzbget:
    image: "linuxserver/nzbget"
    container_name: "nzbget"
    volumes:
      - /home/rzn/docker/nzbget:/config
      - /media/stach/down:/downloads
      - /home/rzn/docker/certs:/certs
    ports:
      - "6789:6789"
    restart: always
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/Stockholm

#SABnzbd - Usenet (NZB) Downloader
  sabnzbd:
    image: "linuxserver/sabnzbd"
    container_name: "sabnzbd"
    volumes:
      - /home/rzn/docker/sabnzbd:/config
      - /media/stach/down/completed:/downloads
      - /media/stach2/tmp/.laddar:/incomplete-downloads
      - /home/rzn/docker/certs:/certs
    ports:
        - "8080:8080"
    restart: always
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/Stockholm


#Radarr - Movie Download and Management
  radarr:
    image: "linuxserver/radarr"
    container_name: "radarr"
    volumes:
      - /home/rzn/docker/radarr:/config
      - /media/stach/down/completed:/downloads
      - /media:/movies
      - "/etc/localtime:/etc/localtime:ro"
      - /home/rzn/docker/certs:/certs
    ports:
      - "7878:7878"
    restart: always
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/Stockholm

      #Sonarr - TV Show Download and Management
  sonarr:
    image: "linuxserver/sonarr"
    container_name: "sonarr"
    volumes:
      - /home/rzn/docker/sonarr:/config
      - /media/stach/down/completed:/downloads
      - /media:/tv
      - "/etc/localtime:/etc/localtime:ro"
      - /home/rzn/docker/certs:/certs
    ports:
        - "8989:8989"
    restart: always
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/Stockholm


#NZBHydra - NZB Meta Search
  hydra2:
    image: linuxserver/hydra2
    container_name: hydra2
    volumes:
      - /home/rzn/docker/hydra2:/config
      - /media/stach/down:/downloads
      - /home/rzn/docker/certs:/certs
    ports:
      - "5076:5076"
    restart: always
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/Stockholm

#Jackett - Torrent Proxy
  jackett:
    image: linuxserver/jackett
    container_name: jackett
    volumes:
      - /home/rzn/docker/jackett:/config
      - /media/stach/down/completed:/downloads
      - "/etc/localtime:/etc/localtime:ro"
      - /home/rzn/docker/certs:/certs
    ports:
      - "9117:9117"
    restart: always
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/Stockholm


#Watchtower - Automatic Update of Containers/Apps
  watchtower:
    container_name: watchtower
    restart: always
    image: v2tec/watchtower
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
    command: --schedule "0 0 4 * * *" --cleanup

    couchpotato:
    image: linuxserver/couchpotato
    container_name: couchpotato
    depends_on:
      - nzbget
    volumes:
      - /opt/appdata/couchpotato:/config
      - /mnt/disk1/downloads/complete/movies:/downloads
      - /mnt/storage/movies:/movies
    ports:
      - 27022:5050
    links:
